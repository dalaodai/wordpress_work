!function(n){window.EAELOffcanvasContent=function(e){(this.node=e).find(".eael-offcanvas-toggle").length<1||(this.wrap=e.find(".eael-offcanvas-content-wrap"),this.content=e.find(".eael-offcanvas-content"),this.button=e.find(".eael-offcanvas-toggle"),this.settings=this.wrap.data("settings"),this.id=this.settings.content_id,this.transition=this.settings.transition,this.esc_close=this.settings.esc_close,this.body_click_close=this.settings.body_click_close,this.direction=this.settings.direction,this.duration=500,this.destroy(),this.init())},EAELOffcanvasContent.prototype={id:"",node:"",wrap:"",content:"",button:"",settings:{},transition:"",duration:400,initialized:!1,animations:["slide","slide-along","reveal","push"],init:function(){this.wrap.length&&(n("html").addClass("eael-offcanvas-content-widget"),0===n(".eael-offcanvas-container").length&&("push"===this.transition?(n("body").prepend(this.content),n("body").wrapInner('<div class="eael-offcanvas-container eael-offcanvas-container-'+this.id+'" />')):(n("body").wrapInner('<div class="eael-offcanvas-container eael-offcanvas-container-'+this.id+'" />'),this.content.insertBefore(".eael-offcanvas-container"))),0<this.wrap.find(".eael-offcanvas-content").length&&("push"===this.transition?(0<n(".eael-offcanvas-container > .eael-offcanvas-content-"+this.id).length&&n(".eael-offcanvas-container > .eael-offcanvas-content-"+this.id).remove(),n(".eael-offcanvas-container").prepend(this.wrap.find(".eael-offcanvas-content"))):(0<n(".eael-offcanvas-container > .eael-offcanvas-content-"+this.id).length&&n(".eael-offcanvas-container > .eael-offcanvas-content-"+this.id).remove(),0<n("body > .eael-offcanvas-content-"+this.id).length&&n("body > .eael-offcanvas-content-"+this.id).remove(),n("body").prepend(this.wrap.find(".eael-offcanvas-content")))),this.bindEvents())},destroy:function(){this.close(),this.animations.forEach(function(e){n("html").hasClass("eael-offcanvas-content-"+e)&&n("html").removeClass("eael-offcanvas-content-"+e)}),n("body > .eael-offcanvas-content-"+this.id).length},bindEvents:function(){this.button.on("click",n.proxy(this.toggleContent,this)),n("body").delegate(".eael-offcanvas-content .eael-offcanvas-close","click",n.proxy(this.close,this)),"yes"===this.esc_close&&this.closeESC(),"yes"===this.body_click_close&&this.closeClick()},toggleContent:function(){n("html").hasClass("eael-offcanvas-content-open")?this.close():this.show()},show:function(){n(".eael-offcanvas-content-"+this.id).addClass("eael-offcanvas-content-visible"),n("html").addClass("eael-offcanvas-content-"+this.transition),n("html").addClass("eael-offcanvas-content-"+this.direction),n("html").addClass("eael-offcanvas-content-open"),n("html").addClass("eael-offcanvas-content-"+this.id+"-open"),n("html").addClass("eael-offcanvas-content-reset")},close:function(){n("html").removeClass("eael-offcanvas-content-open"),n("html").removeClass("eael-offcanvas-content-"+this.id+"-open"),setTimeout(n.proxy(function(){n("html").removeClass("eael-offcanvas-content-reset"),n("html").removeClass("eael-offcanvas-content-"+this.transition),n("html").removeClass("eael-offcanvas-content-"+this.direction),n(".eael-offcanvas-content-"+this.id).removeClass("eael-offcanvas-content-visible")},this),500)},closeESC:function(){var t=this;""!==t.settings.esc_close&&n(document).on("keydown",function(e){27===e.keyCode&&t.close()})},closeClick:function(){var t=this;n(document).on("click",function(e){n(e.target).is(".eael-offcanvas-content")||0<n(e.target).parents(".eael-offcanvas-content").length||n(e.target).is(".eael-offcanvas-toggle")||0<n(e.target).parents(".eael-offcanvas-toggle").length||t.close()})}}}(jQuery);